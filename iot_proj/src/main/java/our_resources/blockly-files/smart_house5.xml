<xml xmlns="http://www.w3.org/1999/xhtml"><variables><variable type="" id="^NquueSC0#W,`NFU%~e%">Count</variable><variable type="" id="f]#y0{/-G@MFa]`aSg[{">MAX_TEMP</variable><variable type="" id="4aqL9RTo#(%{P762VEWi">MIN_TEMP</variable><variable type="" id="v1$2bn]}tE:UfLcJbKv$">text</variable><variable type="" id="(vY*r);4/K|Xx,q;pb.m">x</variable><variable type="" id="w,Yy7*UT0y.7#cNGf7::">event_name</variable></variables><block type="math_number" id="CVmG^B-w~W0J=Z_91m$-" x="46" y="-585"><field name="NUM">40</field></block><block type="variables_set" id="C,G?,oH1niYQqMzVo{U=" x="-212" y="-540"><field name="VAR" id="f]#y0{/-G@MFa]`aSg[{" variabletype="">MAX_TEMP</field><value name="VALUE"><block type="text" id="s_JR02wb)keKuA.UOS:Z"><field name="TEXT">40</field></block></value><next><block type="variables_set" id="2|xFzg6ODn(|?Mi$HqVI"><field name="VAR" id="4aqL9RTo#(%{P762VEWi" variabletype="">MIN_TEMP</field><value name="VALUE"><block type="text" id="Y!eM22q-~P:yo61_)Eiy"><field name="TEXT">20</field></block></value></block></next></block><block type="math_number" id="@g:@`GOjOOq#a=hG#`)G" x="55" y="-518"><field name="NUM">20</field></block><block type="procedures_defreturn" id="/*.[gG^?,t!wF67rO6P7" x="-212" y="-471"><mutation statements="false"><arg name="event_name"></arg></mutation><field name="NAME">is_temp_event</field><comment pinned="false" h="80" w="160">Is this event a temperature event?</comment><value name="RETURN"><block type="text_startswith" id="G^eSl~BWyfM3f`J#rEiy"><value name="A"><block type="variables_get" id="y|5(XgnDH=nM0yqJ?DLY"><field name="VAR" id="w,Yy7*UT0y.7#cNGf7::" variabletype="">event_name</field></block></value><value name="B"><block type="text" id="W7m@^o9)deV9fXAM%#29"><field name="TEXT">Temp: </field></block></value></block></value></block><block type="procedures_defreturn" id="VmT3B6V^kENw52a8!Fmp" x="-212" y="-401"><mutation statements="false"><arg name="event_name"></arg></mutation><field name="NAME">getTemp</field><comment pinned="false" h="80" w="160">Get the temperature stated in the event's name</comment><value name="RETURN"><block type="text_getSubstring" id="/6ddhG[0u:;aTnMM_)em"><mutation at1="true" at2="false"></mutation><field name="WHERE1">FROM_END</field><field name="WHERE2">LAST</field><value name="STRING"><block type="variables_get" id="p?WBP!el9KYTCbb}Q*D."><field name="VAR" id="w,Yy7*UT0y.7#cNGf7::" variabletype="">event_name</field></block></value><value name="AT1"><block type="math_number" id="bt`ay0~n/URVJl{N$+!P"><field name="NUM">1</field></block></value></block></value></block><block type="procedures_defreturn" id="#X==?~.koE){(-V1pV+." x="-212" y="-329"><mutation><arg name="event_name"></arg></mutation><field name="NAME">tooHot</field><comment pinned="false" h="80" w="160">Does this event indicate a temperature hotter than the max temperatu</comment><statement name="STACK"><block type="procedures_ifreturn" id=",e(d{!Ui+L6TB?``}QgM"><mutation value="1"></mutation><value name="CONDITION"><block type="logic_negate" id="gt@$gsOk}s8bE/}-n;Al"><value name="BOOL"><block type="procedures_callreturn" id="1L0}%*v)/`;WYj5!L_[c"><mutation name="is_temp_event"><arg name="event_name"></arg></mutation><value name="ARG0"><block type="variables_get" id="4mAVv(zB+RRs,:L=@6h!"><field name="VAR" id="w,Yy7*UT0y.7#cNGf7::" variabletype="">event_name</field></block></value></block></value></block></value><value name="VALUE"><block type="logic_boolean" id="vdNMcWWHEO86)S=g`GOz"><field name="BOOL">FALSE</field></block></value></block></statement><value name="RETURN"><block type="logic_compare" id=".nvP~hH[lStPnGWvO$ZB"><field name="OP">GT</field><value name="A"><block type="procedures_callreturn" id="dz]*MLy$3}z.%Lyz0HDG"><mutation name="getTemp"><arg name="event_name"></arg></mutation><value name="ARG0"><block type="variables_get" id="!fSCLPD6LFY3nFgu8q-l"><field name="VAR" id="w,Yy7*UT0y.7#cNGf7::" variabletype="">event_name</field></block></value></block></value><value name="B"><block type="variables_get" id="YXn_!U[t(L#|eJ{P;#`L"><field name="VAR" id="f]#y0{/-G@MFa]`aSg[{" variabletype="">MAX_TEMP</field></block></value></block></value></block><block type="procedures_defreturn" id=".ecgE]O,8n%LZmHmD`bx" x="-212" y="-173"><mutation><arg name="event_name"></arg></mutation><field name="NAME">tooCold</field><comment pinned="false" h="80" w="160">Does this event indicate a temperature colder than the min temperature</comment><statement name="STACK"><block type="procedures_ifreturn" id="rcTUODL:}0`^2B{k_Hcz"><mutation value="1"></mutation><value name="CONDITION"><block type="logic_negate" id="epqhp1M9Wh3.3Z~WGl2H"><value name="BOOL"><block type="procedures_callreturn" id="}D?WTy}6TOcDLVQ6pqX@"><mutation name="is_temp_event"><arg name="event_name"></arg></mutation><value name="ARG0"><block type="variables_get" id="J^mbbA`Lgh-[E.E{}WfP"><field name="VAR" id="w,Yy7*UT0y.7#cNGf7::" variabletype="">event_name</field></block></value></block></value></block></value><value name="VALUE"><block type="logic_boolean" id="m/t,7,gmJZ%*u6,s^we7"><field name="BOOL">FALSE</field></block></value></block></statement><value name="RETURN"><block type="logic_compare" id="]_0Y%aEkCdXz2%vraH#y"><field name="OP">LT</field><value name="A"><block type="procedures_callreturn" id="DIgpN5/bG9UJ6$jN|s@1"><mutation name="getTemp"><arg name="event_name"></arg></mutation><value name="ARG0"><block type="variables_get" id="rIiqOtv1lk$q1Up@O;sb"><field name="VAR" id="w,Yy7*UT0y.7#cNGf7::" variabletype="">event_name</field></block></value></block></value><value name="B"><block type="variables_get" id="0]4dpQ3_r:SrdL6%#qeD"><field name="VAR" id="4aqL9RTo#(%{P762VEWi" variabletype="">MIN_TEMP</field></block></value></block></value></block><block type="bp_register_bthread" id="Wmnc.fZu)1jDUt,f)M%J" x="7" y="150"><value name="NAME"><shadow type="text" id="[AqWk.Mxni8JUky@-dqQ"><field name="TEXT">AC-cold</field></shadow></value><statement name="CONTENT"><block type="controls_whileUntil" id="v]`3`$QLsAxVS/(xQhAr"><field name="MODE">WHILE</field><value name="BOOL"><block type="logic_boolean" id="LnF(p,Aq^U%Lzi3=jtj:"><field name="BOOL">TRUE</field></block></value><statement name="DO"><block type="bp_bsync" id="sL|RGl^_vU:lBAdmrgh{"><value name="WAIT"><block type="bp_eventset" id="!HUte^mX;B2J]u{w:cuf"><value name="COND"><block type="procedures_callreturn" id="Y-y~fm-!nb6HR.#SK8SA"><mutation name="tooHot"><arg name="event_name"></arg></mutation><value name="ARG0"><block type="bp_event_name" id="h]f_MQX8oe~|$@[F)K|i"></block></value></block></value></block></value><next><block type="bp_bsync" id="Bh#,ETM9c[ig|p]Yp]Ds"><value name="REQUEST"><block type="bp_event" id="kw^$!A0S8$V[.jY^p=D["><value name="NAME"><shadow type="text" id="-k!=JYkjwb=#d]dS2a9t"><field name="TEXT">AC: set to cold</field></shadow></value></block></value><value name="BLOCK"><block type="bp_event" id="-B]bz^0f-N`g_|stl?S9"><value name="NAME"><shadow type="text" id="Md^S:r$J)9xdAgPI~Wm*"><field name="TEXT">AC: set to heat</field></shadow></value></block></value></block></next></block></statement></block></statement></block><block type="bp_register_bthread" id="HNBTxMYCv.;1^8u%j/Yo" x="600" y="157"><value name="NAME"><shadow type="text" id="8^aqp=lp6^//ipm$1vs}"><field name="TEXT">Lights-auto-turnoff</field></shadow></value><statement name="CONTENT"><block type="controls_whileUntil" id="Lj=Wzz(NU4*Z^DYwh|2%"><field name="MODE">WHILE</field><value name="BOOL"><block type="logic_boolean" id="hzJ67{(lu.syxl*C9cpM"><field name="BOOL">TRUE</field></block></value><statement name="DO"><block type="bp_bsync" id="y6pzAnc$^eQPAEGj!Gu0"><value name="WAIT"><block type="lists_create_with" id="qB_y,U66^N,Qc`O]Aq3s"><mutation items="2"></mutation><value name="ADD0"><block type="bp_event" id="^$z3~chU7a?HHvxgFg_U"><value name="NAME"><shadow type="text" id="kYTI*w}]C**T?Os0$)m#"><field name="TEXT">tennant_left</field></shadow></value></block></value><value name="ADD1"><block type="bp_event" id="edvd%{frVLPmpo}CuXpO"><value name="NAME"><shadow type="text" id="qo(+CjX~N6X:O6NBkT|{"><field name="TEXT">electricity_critical</field></shadow></value></block></value></block></value><next><block type="bp_bsync" id="/wg9!g{]ItFcnZ8iE2`T"><value name="REQUEST"><block type="bp_event" id="svczZ#;2~burBxNN$?uw"><value name="NAME"><shadow type="text" id="RDzdv@=oih$mmOm~OQ)7"><field name="TEXT">Lights: turnoff</field></shadow></value></block></value></block></next></block></statement></block></statement></block><block type="bp_register_bthread" id="dE6=+Veh;9Y;sNA%KF~?" x="1232" y="180"><value name="NAME"><shadow type="text" id="?DGLVo(#)MyZ{m6HQyOr"><field name="TEXT">Thermostat-update-display</field></shadow></value><statement name="CONTENT"><block type="controls_whileUntil" id="3eFS=-1{c[yKa;1ED3hk"><field name="MODE">WHILE</field><value name="BOOL"><block type="logic_boolean" id="3@2H.FxG1+Y3MjpT4I_S"><field name="BOOL">TRUE</field></block></value><statement name="DO"><block type="bp_bsync" id="LM]sf?c55_qjy:02Tt[f"><value name="WAIT"><block type="bp_eventset" id="}8/xT75M+0v/QccD=,3*"><value name="COND"><block type="procedures_callreturn" id="$e{qFc-,Lq|~$a6wYe7]"><mutation name="is_temp_event"><arg name="event_name"></arg></mutation><value name="ARG0"><block type="bp_event_name" id="jB}S42f}0wlcfjteDz`6"></block></value></block></value></block></value><next><block type="bp_bsync" id="oT0mM*zlDNHoZfAX]q8S"><value name="REQUEST"><block type="bp_event" id="EX^-NQVe:B,u/$yhT8Wq"><value name="NAME"><shadow type="text" id="-N*189@|0xFG.28`[@N9"><field name="TEXT">Thermostat: update display</field></shadow></value></block></value></block></next></block></statement></block></statement></block><block type="bp_register_bthread" id="Uq[%8W%]/zBpzRam)@W7" x="3" y="513"><value name="NAME"><shadow type="text" id="z%y!qn.)+n.4xH2b!73h"><field name="TEXT">AC-heat</field></shadow></value><statement name="CONTENT"><block type="controls_whileUntil" id="wRun73?W!$Y`IbJUw)Ke"><field name="MODE">WHILE</field><value name="BOOL"><block type="logic_boolean" id="D[#vG[)hQ2S{;(eC[8Dr"><field name="BOOL">TRUE</field></block></value><statement name="DO"><block type="bp_bsync" id="X6QnlLZ*1Lxer5;f|c}A"><value name="WAIT"><block type="bp_eventset" id="RPzm4XQIt}J#9,F3](^-"><value name="COND"><block type="procedures_callreturn" id="u,bTVzoMfJPvlAH:`i,o"><mutation name="tooCold"><arg name="event_name"></arg></mutation><value name="ARG0"><block type="bp_event_name" id="V=vpw@evJn(q}t!B]T[-"></block></value></block></value></block></value><next><block type="bp_bsync" id="JWyIcTY%i87O+b{|E0jv"><value name="REQUEST"><block type="bp_event" id="edL`#7goTRviE|EA{8K1"><value name="NAME"><shadow type="text" id="GBj=3gA*~!HV2v4iC;,{"><field name="TEXT">AC: set to heat</field></shadow></value></block></value><value name="BLOCK"><block type="bp_event" id="F4GmhlVigLpkRCtdui=a"><value name="NAME"><shadow type="text" id="jmzb,S[880pLy=L:,CWq"><field name="TEXT">AC: set to cold</field></shadow></value></block></value></block></next></block></statement></block></statement></block><block type="bp_register_bthread" id="Q9!~DEM!YUJTZqPT-0aR" x="598" y="490"><value name="NAME"><shadow type="text" id="8B=P)@/{d-Hj5|fe~*;,"><field name="TEXT">Lights-auto-turnon</field></shadow></value><statement name="CONTENT"><block type="controls_whileUntil" id="4}B8nWZY{|[5+SnY~ynX"><field name="MODE">WHILE</field><value name="BOOL"><block type="logic_boolean" id="p54{2Rpa];$=;RB;)i!8"><field name="BOOL">TRUE</field></block></value><statement name="DO"><block type="bp_bsync" id="]Kfs_6?K%x^%|e_II+LO"><value name="WAIT"><block type="bp_event" id="mr[##E@,3Q@jLd1-4-mm"><value name="NAME"><shadow type="text" id="Q^Opbj~5x;58VSuK?ePT"><field name="TEXT">tennant_arrived</field></shadow></value></block></value><next><block type="bp_bsync" id="qdG:Z)|.6q!82?sVcy0r"><value name="REQUEST"><block type="bp_event" id="gdBwC^L46$]@.0J4fg61"><value name="NAME"><shadow type="text" id="Yi]q[i1}apND8qrp/PiH"><field name="TEXT">Lights: turnon</field></shadow></value></block></value></block></next></block></statement></block></statement></block><block type="bp_register_bthread" id="nW?nofBhBQ*R=!A|WIpi" x="1231" y="484"><value name="NAME"><shadow type="text" id="5S,~shr!neG6CYU_]sNJ"><field name="TEXT">Thermostat-auto-turnoff</field></shadow></value><statement name="CONTENT"><block type="controls_whileUntil" id="Ld81*N4rF-m(9icQp?Il"><field name="MODE">WHILE</field><value name="BOOL"><block type="logic_boolean" id="3PnczsLQ^`ZghtkgUJS1"><field name="BOOL">TRUE</field></block></value><statement name="DO"><block type="bp_bsync" id="Z`K}Nj@GUuyX0xgvJM|s"><value name="WAIT"><block type="bp_event" id=":+PpxASx;VTx/B!VQW:L"><value name="NAME"><shadow type="text" id="t-JLf?ILMkkM$#n6x;FQ"><field name="TEXT">tennant_left</field></shadow></value></block></value><next><block type="bp_bsync" id="yVewjZ7s;Je-4WbZ_F]S"><value name="REQUEST"><block type="bp_event" id="QtDm~#zXOTn=@H9BnMpo"><value name="NAME"><shadow type="text" id="{#rPl3C*y=i%E87Ea:=M"><field name="TEXT">Thermostat: turnoff</field></shadow></value></block></value></block></next></block></statement></block></statement></block><block type="bp_register_bthread" id="^0U4iuopJaI[_cbkkfDD" x="1228" y="766"><value name="NAME"><shadow type="text" id="HB^~/#KE/!{wYaE|`%7w"><field name="TEXT">Thermostat-auto-turnon</field></shadow></value><statement name="CONTENT"><block type="controls_whileUntil" id="M@SdKCZ]F+v%HdV6-9uU"><field name="MODE">WHILE</field><value name="BOOL"><block type="logic_boolean" id=".F.rCmu0!SO8#]}r}GXc"><field name="BOOL">TRUE</field></block></value><statement name="DO"><block type="bp_bsync" id="R=!KZ+0~0(bX8+d=0QtB"><value name="WAIT"><block type="bp_event" id="Z!QRg[OEBo.9Q/`a]Gy_"><value name="NAME"><shadow type="text" id="h]7^lAGo$^x-JjR]!.tO"><field name="TEXT">tennant_arrived</field></shadow></value></block></value><next><block type="bp_bsync" id="r~x:{l%.Yt?y6;.[(d*j"><value name="REQUEST"><block type="bp_event" id="_XKO_4FFesUFm,2ndlkE"><value name="NAME"><shadow type="text" id="!!$d6M/M.G6Tno9=aMHL"><field name="TEXT">Thermostat: turnon</field></shadow></value></block></value></block></next></block></statement></block></statement></block><block type="bp_register_bthread" id="hMQ~F#Xt%_*+}d8$D_0$" x="4" y="868"><value name="NAME"><shadow type="text" id="((RFi/(%HZXU`XM99$?e"><field name="TEXT">AC-auto-turnoff</field></shadow></value><statement name="CONTENT"><block type="controls_whileUntil" id="]FE-YBr.@m,l@-D]Ndq?"><field name="MODE">WHILE</field><value name="BOOL"><block type="logic_boolean" id="FXNCQy{7Y2$]PePNCDI="><field name="BOOL">TRUE</field></block></value><statement name="DO"><block type="bp_bsync" id="P)I=J`mEjFW^LuZ};m.V"><value name="WAIT"><block type="lists_create_with" id="!XWBExx$#mWg!a`I6}:r"><mutation items="2"></mutation><value name="ADD0"><block type="bp_event" id="VcND+SV9m8cYj4BXOAFr"><value name="NAME"><shadow type="text" id="%p}ON(0{HRrAc=b!U1sM"><field name="TEXT">tennant_left</field></shadow></value></block></value><value name="ADD1"><block type="bp_event" id="Z}bE!Ur#z#27j!Tr^@5r"><value name="NAME"><shadow type="text" id="u^V@d;|.JU(FNJ8uNOxl"><field name="TEXT">electricity_critical</field></shadow></value></block></value></block></value><next><block type="bp_bsync" id="x=wCTe/{GV0iIr:Q}Nk7"><value name="REQUEST"><block type="bp_event" id=".rv*e$;G8JXIurl-T4E."><value name="NAME"><shadow type="text" id="AMQ](vK}=CD-56][VQvJ"><field name="TEXT">AC: turnoff</field></shadow></value></block></value></block></next></block></statement></block></statement></block><block type="bp_register_bthread" id=")@{~v^P$n*nY0CO0u//S" x="14" y="1238"><value name="NAME"><shadow type="text" id="=r!y,(YF3fWu@:2lh05j"><field name="TEXT">AC-auto-turnon</field></shadow></value><statement name="CONTENT"><block type="controls_whileUntil" id="|e*/Fdnep|||;,W=3v.m"><field name="MODE">WHILE</field><value name="BOOL"><block type="logic_boolean" id="W9{hMon3WW$4w#I5~x#:"><field name="BOOL">TRUE</field></block></value><statement name="DO"><block type="bp_bsync" id="9;{(jKK0lvx)9{KKZT`9"><value name="WAIT"><block type="bp_event" id="2[K5/$u482T9LvKNE1k@"><value name="NAME"><shadow type="text" id="#k!0}byF]qlrLhz5?s*t"><field name="TEXT">tennant_arrived</field></shadow></value></block></value><next><block type="bp_bsync" id="nqBu=x)s4PVf%NF%ZX0j"><value name="REQUEST"><block type="bp_event" id="`Ry!XF=.v@[[~NQ!qxc@"><value name="NAME"><shadow type="text" id="8I6c%]kc#u[0i`ET-DQr"><field name="TEXT">AC: turnon</field></shadow></value></block></value></block></next></block></statement></block></statement></block></xml>